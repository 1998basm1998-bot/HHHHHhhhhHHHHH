<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ูุธุงู ุงูุฃูุณุงุท โ ูุฑุงุฑ</title>
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="updateModal" class="pwa-modal hidden">
    <div class="pwa-modal-content">
        <h3>๐ ูุชููุฑ ุชุญุฏูุซ ุฌุฏูุฏ!</h3>
        <p>ูููุง ุจุฅุตุฏุงุฑ ุชุญุฏูุซ ุฌุฏูุฏ ููุชุทุจูู ูุถูุงู ุฃูุถู ุฃุฏุงุก. ูุฑุฌู ุงูุชุญุฏูุซ ุงูุขู.</p>
        <button id="updateBtn" class="pwa-btn" onclick="executeUpdate()">
            <span id="updateBtnText">ุชุญุฏูุซ ุงูุขู</span>
            <div id="updateSpinner" class="spinner"></div>
        </button>
    </div>
</div>

<div id="installModal" class="pwa-modal hidden">
    <div class="pwa-modal-content">
        <h3>๐ฒ ุชุซุจูุช ุงูุชุทุจูู ุฅูุฒุงูู</h3>
        <p>ูููุตูู ุฅูู ุงููุธุงู ูุงูุนูู ุจุฏูู ุฅูุชุฑูุชุ ูุฌุจ ุนููู ุชุซุจูุช ุงูุชุทุจูู ุนูู ุฌูุงุฒู.</p>
        <button class="pwa-btn" onclick="installApp()">ุชุซุจูุช ุงูุชุทุจูู</button>
    </div>
</div>

<div id="mainApp" class="hidden">
    <div class="container">
        <h1>๐ ูุธุงู ุฅุฏุงุฑุฉ ุงูุฃูุณุงุท โ ูุฑุงุฑ</h1>

        <div class="tab-buttons">
            <div class="tab-btn active" onclick="switchTab(event, 'tab-home')">๐ ุงูุฑุฆูุณูุฉ</div>
            <div class="tab-btn" onclick="switchTab(event, 'tab-add')">โ ุฅุถุงูุฉ ุฒุจูู</div>
            <div class="tab-btn" onclick="switchTab(event, 'tab-manage')">โ๏ธ ุงูุฅุฏุงุฑุฉ</div>
        </div>

        <div id="tab-home" class="tab-content active">
            <div class="totalBox" id="totalDebt">
            ๐ฐ ูุฌููุน ุงูุฏููู: 0 | ๐ต ุงูุฏููู ุงููุณุชููุฉ ููุดูุฑ: <span id="receivedThisMonth">0</span> 
            <button onclick="resetReceived()" style="margin-left:10px;padding:5px 10px;background:#c62828;color:#fff;border:none;border-radius:5px;cursor:pointer;font-weight:bold;">โ ุญุฐู ุงูุฏููู ุงููุณุชููุฉ</button>
            </div>

            <div class="box">
            <h2>๐ ุฎุงูุฉ ุงูุจุญุซ ููุนุฑูุฉ ุงููุชุฃุฎุฑูู</h2>
            <input id="search" placeholder="ุจุญุซ ุจุงูุงุณู ุฃู ุงููุงุชู" onkeyup="show()">
            <button onclick="filterOverdue()">โฐ ุงููุชุฃุฎุฑูู</button>
            <button onclick="resetFilter()">๐ ุนุฑุถ ุงููู</button>
            </div>

            <div class="table-responsive">
                <table>
                <thead>
                <tr>
                <th>#</th><th>ุงูุงุณู</th><th>ุงูุณูุนุฉ</th><th>ุงููุงุชู</th><th>ุงูููู</th><th>ุงููุฏููุน</th><th>ุงููุชุจูู</th><th>ูุงุชุณุงุจ</th>
                <th class="secure hidden">ุชุณุฏูุฏ</th><th class="secure hidden">ุฏูู</th><th class="secure hidden">ูุดู</th>
                </tr>
                </thead>
                <tbody id="list"></tbody>
                </table>
            </div>
        </div>

        <div id="tab-add" class="tab-content">
            <div class="box">
            <h2>โ ุฎุงูุฉ ุฅุถุงูุฉ ุฒุจูู</h2>
            <input id="name" placeholder="ุงุณู ุงูุฒุจูู">
            <input id="item" placeholder="ููุน ุงูุณูุนุฉ">
            <input id="phone" placeholder="ุฑูู ุงููุงุชู">
            <input id="total" type="number" placeholder="ุงููุจูุบ ุงูููู">
            <input id="paid" type="number" placeholder="ุงููุฏููุน">
            <button onclick="add()">ุฅุถุงูุฉ ุฒุจูู</button>
            </div>
        </div>

        <div id="tab-manage" class="tab-content">
            <button id="loginBtn" onclick="login()">๐ ุงูุฏุฎูู ุฅูู ูุงุฌูุฉ ุงูุชุณุฏูุฏ</button>
            <button id="closeBtn" style="display:none;" onclick="closePayment()">๐ ุฅุบูุงู</button>

            <div class="box secure hidden" id="printEditBox">
            <h2>๐ ุงูุทุจุงุนุฉ ูุงูุญุฐู ูุงูุชุนุฏูู</h2>
            <button id="printBtn">๐จ๏ธ ุทุจุงุนุฉ ุงููุงุฆูุฉ</button>
            <button id="editDeleteBtn">โ๏ธ๐๏ธ ุชุนุฏูู / ุญุฐู ุฒุจูู</button>
            <button id="backupBtn">๐พ ุญูุธ ูุณุฎุฉ ุงุญุชูุงุทูุฉ</button>
            <button id="restoreBtn">โป๏ธ ุงุณุชุฑุฌุงุน ูุณุฎุฉ ุงุญุชูุงุทูุฉ</button>
            </div>
        </div>

    </div>

    <div id="reportModal">
        <div id="reportContent">
            <button id="closeReportBtn">ร</button>
            <h3>ูุดู ุงูุญุณุงุจ</h3>
            <div id="reportTable"></div>
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
